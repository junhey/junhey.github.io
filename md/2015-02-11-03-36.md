title: 平台返回码策略			
categories: PHP
tags: [json]
date: 2015-02-11 03:36:00
---

说明：通常，在多平台、多终端的数据访问时，会通过数据回调的形式进行数据通信。而不同的开发者及不同的开发语言会有不同的数据返回格式。为了使平台在开发过程中无需对每个接口进行沟通与协调，我们将定义一套标准的返回码来绑定平台间的返回数据，通过对该返回码的识别，则可判断平台返回数据的功能及模式。
我们将返回码一般的定义为:
		"返回类型"+"子系统编号"+"自定义序列"
例如：用户帐号密码错误导致登录失败
		返回码为：4110（分解显示为4-1-10，使用中去除横线）
		其中第一位数字“4”为返回码类型
		第二位数字“1”为用户中心编号
		最后两位“10”为表示具体错误内容的自定义编码

其中：模块编号由系统接入时生成，自定义编码为00-99的两位十进制数字。

返回码类型的一般定义：
返回码类型	类型解释
1	当前处理
2	成功
3	重定向
4	客户端操作错误
5	服务器响应错误

通用返回码：
返回码	信息	描述
1000	正在处理中...请稍候...	
		
2000	操作成功	Succeed、true
2001	成功返回数据	返回请求的数据
2002	成功缓存数据	将请求的数据写入缓存并返回键值
3000	跳转中...	
3100	用户未登录	
3101	当前登录的用户帐号	
		
4000	操作失败	Failed、false
4001	没有访问权限	
4002	参数错误	
4003	请求超时	
4004	无匹配信息	
4005	重复提交数据	
5000	服务器正在维护中...	
		


通用数据返回模式：
Jsonp数据
({"msg":"success","code":"2000","data":"  "})
其中data可以这样定义，例如：需要查一个列表页，那么data域中可能需要总条数，那么后台返回的格式是（请前端的同事严格遵守返回的json数据格式）：
![图片1.png][1]


  [1]: http://junhey-typechoupload.stor.sinaapp.com/535607132.png
