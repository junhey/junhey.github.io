title: linux下文件权限修改 git也被记录			
categories: JavaScript
tags: [git,linux]
date: 2016-07-22 10:35:04
---

# 问题描述

这几天试着在ubuntu上进行开发，遇到问题挺多的，移动目录之后webstorm识别不了目录，然后通过chown修改目录权限之后想提交代码，然后就出现修改权限之后代码更新的提示，是全部都有提示，而我只改了部分代码，之后git diff 之后发现是修改权限git识别到并把文件权限作为文件修改的一部分。其实有一个很好的办法就是移动目录之后，更改目录所属用户就不会出现webstorm的问题。

# 解决办法

git中可以加入忽略文件权限的配置，具体如下：
```
$ git config core.filemode false

$ git config --list
```
还有一个小问题，在设置这个属性之前权限就混乱的话，是无法自动修复的。
这时候，如果仅仅是权限混乱的话，直接git reset --hard恢复，git会将项目完全恢复到最近一次提交，包括权限。
如果文件已经修改过了调整后出现这个问题那就先备份一下项目在操作。
